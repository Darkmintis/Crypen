<?xml version="1.0" encoding="utf-8"?>
<ContentDialog
    x:Class="Crypen.Dialogs.ProgressDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Crypen.Dialogs"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Processing"
    PrimaryButtonText="Cancel"
    IsPrimaryButtonEnabled="{x:Bind CanCancel, Mode=OneWay}"
    PrimaryButtonClick="CancelButton_Click"
    DefaultButton="None">

    <Grid RowSpacing="16" MinWidth="400">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Operation Text -->
        <TextBlock Grid.Row="0" 
                   x:Name="OperationText" 
                   Text="Processing..." 
                   FontWeight="SemiBold"
                   TextWrapping="Wrap"/>
        
        <!-- Progress Bar -->
        <ProgressBar Grid.Row="1" 
                     x:Name="ProgressBar" 
                     Value="0" 
                     Maximum="100" 
                     IsIndeterminate="False"/>
        
        <!-- Progress Details -->
        <StackPanel Grid.Row="2" Spacing="4">
            <TextBlock x:Name="ProgressDetailsText" 
                       Text="0% complete" 
                       Foreground="Gray"/>
            <TextBlock x:Name="CurrentFileText" 
                       Text="" 
                       Foreground="Gray" 
                       TextTrimming="CharacterEllipsis"
                       Visibility="Collapsed"/>
        </StackPanel>
        
        <!-- Status Message -->
        <TextBlock Grid.Row="3" 
                   x:Name="StatusText" 
                   Text="" 
                   Foreground="{StaticResource CrypenAccentBrush}" 
                   TextWrapping="Wrap"
                   Visibility="Collapsed"/>
    </Grid>
</ContentDialog>
